const axios = require("axios");
const request = require("request");
const fs = require("fs-extra");
const moment = require("moment-timezone");

module.exports.config = {
 name: "admin",
 version: "1.0.0",
 hasPermssion: 0,
 credits: "à¦†à¦°à¦¿à¦¯à¦¼à¦¾à¦¨",
 description: "Show Owner Info",
 commandCategory: "info",
 usages: "admin",
 cooldowns: 2
};

module.exports.run = async function({ api, event }) {
 const time = moment().tz("Asia/Dhaka").format("DD/MM/YYYY hh:mm:ss A");

 // Facebook Profile ID
 const fbID = "61578286892262";
 const profilePicURL = `https://graph.facebook.com/${fbID}/picture?width=500&height=500`;

 const callback = () => api.sendMessage({
 body: `
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â­“
â”‚ ð—¢ð—ªð—¡ð—˜ð—¥ ð——ð—˜ð—§ð—”ð—œð—Ÿð—¦
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â”‚ ðŸ‘¤ Name : Ariyan 
â”‚ ðŸš¹ Gender : Male
â”‚ â¤ï¸ Relation : Single
â”‚ ðŸŽ‚ Age : 17+
â”‚ ðŸ« Education : Currently studying in College
â”‚ ðŸ¡ Address : Tangail
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â­“

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â­“
â”‚ ð—–ð—¢ð—¡ð—§ð—”ð—–ð—§ ð—Ÿð—œð—¡ð—žð—¦
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â”‚ ðŸ“˜ Facebook: https://www.facebook.com/profile.php?id=61578286892262
â”‚ 
â”‚ ðŸ’¬ WhatsApp:
â”‚ Not Provided
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â­“

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â­“
â”‚ ðŸ•’ Updated Time
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â”‚ ${time}
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â­“
 `,
 attachment: fs.createReadStream(__dirname + "/cache/owner.jpg")
 }, event.threadID, () => fs.unlinkSync(__dirname + "/cache/owner.jpg"));

 // Download FB Profile Picture
 return request(profilePicURL)
 .pipe(fs.createWriteStream(__dirname + '/cache/owner.jpg'))
 .on('close', () => callback());
};